{% extends 'base.html' %}

{% block content %}
  <h2 class="page-title">
    <i class="fas fa-clipboard-list" style="color: #1abc9c;"></i> Exam Results
  </h2>



  <div class="table-container">
    <table class="styled-table">
      <thead>
        <tr>
          <th>Subject <i class="fas fa-book-open"></i></th>
          <th>Teacher <i class="fas fa-chalkboard-teacher"></i></th>
          <th>Marks Obtained <i class="fas fa-trophy"></i></th>
          <th>Grade <i class="fas fa-star"></i></th>
          <th>Exam Date <i class="fas fa-calendar-alt"></i></th>
          <th>Status <i class="fas fa-check-circle"></i></th>
        </tr>
      </thead>
      <tbody>
        {% for result in result_data %}
          <tr>
            <td>{{ result.subject.name }}</td>
            <td>{{ result.teacher.name }}</td>
            <td>{{ result.performance.marks_obtained }}</td>
            <td>{{ result.grade }}</td>
            <td>{{ result.performance.exam_date }}</td>
            <td>{% if result.performance.is_attempted %} Attempted {% else %} Not Attempted {% endif %}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="6">No exam results available for this student.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    {% if not result_data %}
      <p class="no-exams-msg">No exam results available for you.</p>
    {% endif %}
  </div>
{% endblock %}

{% block style %}
  <style>
    /* General Styling */
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f7f9fc;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .page-title {
      text-align: center;
      font-size: 2.5rem;
      margin-top: 20px;
      color: #0056b3;
      font-weight: 600;
    }
    .section-title {
      text-align: center;
      font-size: 1.8rem;
      margin: 20px 0;
      color: #004085;
      font-weight: 500;
    }
    .no-exams-msg {
      text-align: center;
      font-size: 1.2rem;
      color: #777;
      margin-top: 20px;
    }

    /* Table Styling */
    .table-container {
      margin: 30px auto;
      width: 90%;
      max-width: 1200px;
      border-radius: 10px;
      background-color: #fff;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
    }
    .styled-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 1.1rem;
      color: #555;
    }
    .styled-table th, .styled-table td {
      padding: 15px 20px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    .styled-table th {
      background-color: #2c3e50; /* This is the desired color */
      color: white;
      text-transform: uppercase;
      font-weight: bold;
      white-space: nowrap;
    }
    .styled-table tbody tr {
      background-color: #f4f6f9; /* Apply the same color to all rows */
    }
    .styled-table tbody tr:hover {
      background-color: #e9ecef; /* Hover color for all rows */
      transform: scale(1.02);
      transition: all 0.2s ease-in-out;
    }

    /* Icon Styling */
    th i {
      margin-left: 8px;     /* Space between the text and icon */
      vertical-align: middle; /* Align icons vertically to the middle of the text */
      display: inline-block;  /* Make sure the icon is inline with text */
      transition: transform 0.3s;
      color: #1abc9c
    }

    th i:hover {
      transform: scale(1.3);  /* Increase the size of the icon on hover */
    }

    /* Responsive Design */
    @media screen and (max-width: 768px) {
      .styled-table th, .styled-table td {
        padding: 10px;
      }
      .btn {
        font-size: 1rem;
      }
      .page-title {
        font-size: 2rem;
      }
      .section-title {
        font-size: 1.4rem;
      }
    }
  </style>
{% endblock %}
